name: Debug Secrets

on:
  workflow_dispatch:

jobs:
  debug-secrets:
    runs-on: ubuntu-latest
    steps:
      - name: Debug ARN Construction
        run: |
          echo "=== DEBUG SECRETS ==="
          echo "Account ID length: ${#AWS_ACCOUNT_ID}"
          echo "Role name length: ${#AWS_DEPLOYMENT_ROLE}"
          echo "Account ID (masked): ${AWS_ACCOUNT_ID:0:3}***${AWS_ACCOUNT_ID: -3}"
          echo "Role name (masked): ${AWS_DEPLOYMENT_ROLE:0:5}***"
          echo "Constructed ARN: arn:aws:iam::${AWS_ACCOUNT_ID}:role/${AWS_DEPLOYMENT_ROLE}"
          echo "ARN length: $(echo "arn:aws:iam::${AWS_ACCOUNT_ID}:role/${AWS_DEPLOYMENT_ROLE}" | wc -c)"
          echo "=== END DEBUG ==="
        env:
          AWS_ACCOUNT_ID: ${{ secrets.AWS_ACCOUNT_ID }}
          AWS_DEPLOYMENT_ROLE: ${{ secrets.AWS_DEPLOYMENT_ROLE }}